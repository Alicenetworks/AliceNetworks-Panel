import{k as x,o as E,Z as r,a2 as o,Y as t,W as s,V as n,a6 as N,r as f,X as i,N as v,j as m,a3 as B}from"./vue-vendor-CGi32OHI.js";import{v as $}from"./index-ZJAELyGg.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-3OKNQTir.js";import"./naive-ui-B4L8VU6X.js";const M={class:"verify-container"},R={key:0,class:"verify-content"},j={key:1,class:"verify-content"},q={key:2,class:"verify-content"},z=x({__name:"VerifyEmail",setup(I){const a=B(),b=N(),l=f(!0),y=f(!1),u=f("验证链接无效或已过期"),k=async()=>{const d=b.query.token;if(!d){l.value=!1,u.value="验证令牌缺失";return}try{await $(d),y.value=!0}catch(e){u.value=e.response?.data?.error||"验证链接无效或已过期"}finally{l.value=!1}};return E(()=>{k()}),(d,e)=>{const g=n("n-spin"),p=n("n-button"),c=n("n-result"),V=n("n-space"),C=n("n-card");return i(),r("div",M,[e[8]||(e[8]=o("div",{class:"bg-orb orb-1"},null,-1)),e[9]||(e[9]=o("div",{class:"bg-orb orb-2"},null,-1)),e[10]||(e[10]=o("div",{class:"bg-orb orb-3"},null,-1)),t(C,{class:"verify-card"},{default:s(()=>[e[7]||(e[7]=o("div",{class:"verify-header"},[o("h1",{class:"verify-title"},"邮箱验证")],-1)),l.value?(i(),r("div",R,[t(g,{size:"large"}),e[3]||(e[3]=o("p",{class:"verify-message"},"正在验证您的邮箱...",-1))])):y.value?(i(),r("div",j,[t(c,{status:"success",title:"验证成功",description:"您的邮箱已验证，现在可以登录了"},{footer:s(()=>[t(p,{type:"primary",onClick:e[0]||(e[0]=_=>v(a).push("/login"))},{default:s(()=>[...e[4]||(e[4]=[m("前往登录",-1)])]),_:1})]),_:1})])):(i(),r("div",q,[t(c,{status:"error",title:"验证失败",description:u.value},{footer:s(()=>[t(V,null,{default:s(()=>[t(p,{onClick:e[1]||(e[1]=_=>v(a).push("/login"))},{default:s(()=>[...e[5]||(e[5]=[m("返回登录",-1)])]),_:1}),t(p,{type:"primary",onClick:e[2]||(e[2]=_=>v(a).push("/register"))},{default:s(()=>[...e[6]||(e[6]=[m("重新注册",-1)])]),_:1})]),_:1})]),_:1},8,["description"])]))]),_:1})])}}}),A=w(z,[["__scopeId","data-v-622e92be"]]);export{A as default};
