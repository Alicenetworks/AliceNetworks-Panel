import{k as B,Z as _,a2 as t,Y as e,W as s,V as n,X as u,N,j as i,U as V,a5 as P,a3 as F,r as m}from"./vue-vendor-CGi32OHI.js";import{f as K}from"./index-ZJAELyGg.js";import{u as R}from"./naive-ui-B4L8VU6X.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-3OKNQTir.js";const j={class:"forgot-container"},E={key:0,class:"forgot-content"},I={class:"back-link"},M=B({__name:"ForgotPassword",setup(S){const c=F(),v=R(),a=m(!1),l=m(!1),r=m({email:""}),d=async()=>{if(!r.value.email){v.error("请输入邮箱");return}a.value=!0;try{await K(r.value.email),l.value=!0}catch{l.value=!0}finally{a.value=!1}};return(g,o)=>{const f=n("n-button"),b=n("n-result"),k=n("n-input"),y=n("n-form-item"),w=n("router-link"),x=n("n-form"),C=n("n-card");return u(),_("div",j,[o[6]||(o[6]=t("div",{class:"bg-orb orb-1"},null,-1)),o[7]||(o[7]=t("div",{class:"bg-orb orb-2"},null,-1)),o[8]||(o[8]=t("div",{class:"bg-orb orb-3"},null,-1)),e(C,{class:"forgot-card"},{default:s(()=>[o[5]||(o[5]=t("div",{class:"forgot-header"},[t("h1",{class:"forgot-title"},"忘记密码"),t("p",{class:"forgot-subtitle"},"输入您的邮箱，我们将发送密码重置链接")],-1)),l.value?(u(),_("div",E,[e(b,{status:"info",title:"邮件已发送",description:"如果该邮箱已注册，您将收到密码重置链接。请检查您的邮箱（包括垃圾邮件文件夹）。"},{footer:s(()=>[e(f,{type:"primary",onClick:o[0]||(o[0]=p=>N(c).push("/login"))},{default:s(()=>[...o[2]||(o[2]=[i("返回登录",-1)])]),_:1})]),_:1})])):(u(),V(x,{key:1,ref:"formRef",model:r.value},{default:s(()=>[e(y,{label:"邮箱"},{default:s(()=>[e(k,{value:r.value.email,"onUpdate:value":o[1]||(o[1]=p=>r.value.email=p),placeholder:"user@example.com",onKeyup:P(d,["enter"])},null,8,["value"])]),_:1}),e(f,{type:"primary",block:"",loading:a.value,onClick:d,class:"forgot-btn"},{default:s(()=>[...o[3]||(o[3]=[i(" 发送重置链接 ",-1)])]),_:1},8,["loading"]),t("div",I,[e(w,{to:"/login"},{default:s(()=>[...o[4]||(o[4]=[i("返回登录",-1)])]),_:1})])]),_:1},8,["model"]))]),_:1})])}}}),$=U(M,[["__scopeId","data-v-d326af74"]]);export{$ as default};
